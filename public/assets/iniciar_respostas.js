(function(e){e.fn.validationEngineLanguage=function(){},e.validationEngineLanguage={newLang:function(){e.validationEngineLanguage.allRules={required:{regex:"none",alertText:"* Este campo é obrigatório",alertTextCheckboxMultiple:"* Favor selecionar uma opção",alertTextCheckboxe:"* Este checkbox é obrigatório",alertTextDateRange:"* Ambas as datas do intervalo são obrigatórias"},dateRange:{regex:"none",alertText:"* Intervalo de datas inválido"},dateTimeRange:{regex:"none",alertText:"* Intervalo de data e hora inválido"},minSize:{regex:"none",alertText:"* Permitido o mínimo de ",alertText2:" caractere(s)"},maxSize:{regex:"none",alertText:"* Permitido o máximo de ",alertText2:" caractere(s)"},groupRequired:{regex:"none",alertText:"* Você deve preencher um dos seguintes campos"},min:{regex:"none",alertText:"* Valor mínimo é "},max:{regex:"none",alertText:"* Valor máximo é "},past:{regex:"none",alertText:"* Data anterior a "},future:{regex:"none",alertText:"* Data posterior a "},maxCheckbox:{regex:"none",alertText:"* Máximo de ",alertText2:" opções permitidas"},minCheckbox:{regex:"none",alertText:"* Favor selecionar ",alertText2:" opção(ões)"},equals:{regex:"none",alertText:"* Os campos não correspondem"},creditCard:{regex:"none",alertText:"* Número de cartão de crédito inválido"},phone:{regex:/^([\+][0-9]{1,3}[ \.\-])?([\(]{1}[0-9]{2,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,alertText:"* Número de telefone inválido"},email:{regex:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,alertText:"* Endereço de email inválido"},integer:{regex:/^[\-\+]?\d+$/,alertText:"* Número inteiro inválido"},number:{regex:/^[\-\+]?(([0-9]+)([\.,]([0-9]+))?|([\.,]([0-9]+))?)$/,alertText:"* Número decimal inválido"},date:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/,alertText:"* Data inválida, deve ser no formato AAAA-MM-DD"},ipv4:{regex:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,alertText:"* Endereço IP inválido"},url:{regex:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,alertText:"* URL inválida"},onlyNumberSp:{regex:/^[0-9\ ]+$/,alertText:"* Apenas números"},onlyLetterSp:{regex:/^[a-zA-Z\ \']+$/,alertText:"* Apenas letras"},onlyLetterNumber:{regex:/^[0-9a-zA-Z]+$/,alertText:"* Não são permitidos caracteres especiais"},real:{regex:/^([1-9]{1}[\d]{0,2}(\.[\d]{3})*(\,[\d]{0,2})?|[1-9]{1}[\d]{0,}(\,[\d]{0,2})?|0(\,[\d]{0,2})?|(\,[\d]{1,2})?)$/,alertText:"* Número decimal inválido"}}}},e.validationEngineLanguage.newLang()})(jQuery),function(e){"use strict";var t={init:function(n){var r=this;if(!r.data("jqv")||r.data("jqv")==null)n=t._saveOptions(r,n),e(".formError").live("click",function(){e(this).fadeOut(150,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()})});return this},attach:function(n){if(!e(this).is("form"))return alert("Sorry, jqv.attach() only applies to a form"),this;var r=this,i;return n?i=t._saveOptions(r,n):i=r.data("jqv"),i.validateAttribute=r.find("[data-validation-engine*=validate]").length?"data-validation-engine":"class",i.binded&&(r.find("["+i.validateAttribute+"*=validate]").not("[type=checkbox]").not("[type=radio]").not(".datepicker").bind(i.validationEventTrigger,t._onFieldEvent),r.find("["+i.validateAttribute+"*=validate][type=checkbox],["+i.validateAttribute+"*=validate][type=radio]").bind("click",t._onFieldEvent),r.find("["+i.validateAttribute+"*=validate][class*=datepicker]").bind(i.validationEventTrigger,{delay:300},t._onFieldEvent)),i.autoPositionUpdate&&e(window).bind("resize",{noAnimation:!0,formElem:r},t.updatePromptsPosition),r.bind("submit",t._onSubmitEvent),this},detach:function(){if(!e(this).is("form"))return alert("Sorry, jqv.detach() only applies to a form"),this;var n=this,r=n.data("jqv");return n.find("["+r.validateAttribute+"*=validate]").not("[type=checkbox]").unbind(r.validationEventTrigger,t._onFieldEvent),n.find("["+r.validateAttribute+"*=validate][type=checkbox],[class*=validate][type=radio]").unbind("click",t._onFieldEvent),n.unbind("submit",t.onAjaxFormComplete),n.find("["+r.validateAttribute+"*=validate]").not("[type=checkbox]").die(r.validationEventTrigger,t._onFieldEvent),n.find("["+r.validateAttribute+"*=validate][type=checkbox]").die("click",t._onFieldEvent),n.die("submit",t.onAjaxFormComplete),n.removeData("jqv"),r.autoPositionUpdate&&e(window).unbind("resize",t.updatePromptsPosition),this},validate:function(){if(e(this).is("form"))return t._validateFields(this);var n=e(this).closest("form"),r=n.data("jqv"),i=t._validateField(e(this),r);return r.onSuccess&&r.InvalidFields.length==0?r.onSuccess():r.onFailure&&r.InvalidFields.length>0&&r.onFailure(),i},updatePromptsPosition:function(n){if(n&&this==window)var r=n.data.formElem,i=n.data.noAnimation;else var r=e(this.closest("form"));var s=r.data("jqv");return r.find("["+s.validateAttribute+"*=validate]").not(":hidden").not(":disabled").each(function(){var n=e(this),r=t._getPrompt(n),o=e(r).find(".formErrorContent").html();r&&t._updatePrompt(n,e(r),o,undefined,!1,s,i)}),this},showPrompt:function(e,n,r,i){var s=this.closest("form"),o=s.data("jqv");return o||(o=t._saveOptions(this,o)),r&&(o.promptPosition=r),o.showArrow=i==1,t._showPrompt(this,e,n,!1,o),this},hide:function(){var n=e(this).closest("form");if(n.length==0)return this;var r=n.data("jqv"),i;return e(this).is("form")?i="parentForm"+t._getClassName(e(this).attr("id")):i=t._getClassName(e(this).attr("id"))+"formError",e("."+i).fadeTo(r.fadeDuration,.3,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()}),this},hideAll:function(){var t=this,n=t.data("jqv"),r=n?n.fadeDuration:.3;return e(".formError").fadeTo(r,.3,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()}),this},_onFieldEvent:function(n){var r=e(this),i=r.closest("form"),s=i.data("jqv");window.setTimeout(function(){t._validateField(r,s),s.InvalidFields.length==0&&s.onSuccess?s.onSuccess():s.InvalidFields.length>0&&s.onFailure&&s.onFailure()},n.data?n.data.delay:0)},_onSubmitEvent:function(){var n=e(this),r=n.data("jqv"),i=t._validateFields(n,r.ajaxFormValidation);return i&&r.ajaxFormValidation?(t._validateFormWithAjax(n,r),!1):r.onValidationComplete?(r.onValidationComplete(n,i),!1):i},_checkAjaxStatus:function(t){var n=!0;return e.each(t.ajaxValidCache,function(e,t){if(!t)return n=!1,!1}),n},_validateFields:function(n,r){var i=n.data("jqv"),s=!1;n.trigger("jqv.form.validating");var o=null;n.find("["+i.validateAttribute+"*=validate]").not(":hidden").not(":disabled").each(function(){var n=e(this),u=[];if(e.inArray(n.attr("name"),u)<0){s|=t._validateField(n,i,r);if(i.doNotShowAllErrosOnSubmit)return!1;s&&o==null&&(o=n),u.push(n.attr("name"))}}),n.trigger("jqv.form.result",[s]);if(s){if(i.scroll){var u=o.offset().top,a=o.offset().left,f=i.promptPosition;typeof f=="string"&&f.indexOf(":")!=-1&&(f=f.substring(0,f.indexOf(":")));if(f!="bottomRight"&&f!="bottomLeft"){var l=t._getPrompt(o);u=l.offset().top}if(i.isOverflown){var c=e(i.overflownDIV);if(!c.length)return!1;var h=c.scrollTop(),p=-parseInt(c.offset().top);u+=h+p-5;var d=e(i.overflownDIV+":not(:animated)");d.animate({scrollTop:u},1100,function(){i.focusFirstField&&o.focus()})}else e("html:not(:animated),body:not(:animated)").animate({scrollTop:u,scrollLeft:a},1100,function(){i.focusFirstField&&o.focus()})}else i.focusFirstField&&o.focus();return!1}return!0},_validateFormWithAjax:function(n,r){var i=n.serialize(),s=r.ajaxFormValidationURL?r.ajaxFormValidationURL:n.attr("action");e.ajax({type:"GET",url:s,cache:!1,dataType:"json",data:i,form:n,methods:t,options:r,beforeSend:function(){return r.onBeforeAjaxFormValidation(n,r)},error:function(e,n){t._ajaxError(e,n)},success:function(i){if(i!==!0){var s=!1;for(var o=0;o<i.length;o++){var u=i[o],a=u[0],f=e(e("#"+a)[0]);if(f.length==1){var l=u[2];if(u[1]==1)if(l==""||!l)t._closePrompt(f);else{if(r.allrules[l]){var c=r.allrules[l].alertTextOk;c&&(l=c)}t._showPrompt(f,l,"pass",!1,r,!0)}else{s|=!0;if(r.allrules[l]){var c=r.allrules[l].alertText;c&&(l=c)}t._showPrompt(f,l,"",!1,r,!0)}}}r.onAjaxFormComplete(!s,n,i,r)}else r.onAjaxFormComplete(!0,n,"",r)}})},_validateField:function(n,r,i){n.attr("id")||(n.attr("id","form-validation-field-"+e.validationEngine.fieldIdCounter),++e.validationEngine.fieldIdCounter);var s=n.attr(r.validateAttribute),o=/validate\[(.*)\]/.exec(s);if(!o)return!1;var u=o[1],a=u.split(/\[|,|\]/),f=!1,l=n.attr("name"),c="",h=!1;r.isError=!1,r.showArrow=!0;var p=e(n.closest("form"));for(var d=0;d<a.length;d++){a[d]=a[d].replace(" ","");var v=undefined;switch(a[d]){case"required":h=!0,v=t._required(n,a,d,r);break;case"custom":v=t._customRegex(n,a,d,r);break;case"groupRequired":var m="["+r.validateAttribute+"*="+a[d+1]+"]",g=p.find(m).eq(0);if(g[0]!=n[0]){t._validateField(g,r,i),r.showArrow=!0;continue}v=t._groupRequired(n,a,d,r),v&&(h=!0),r.showArrow=!1;break;case"ajax":i||(t._ajax(n,a,d,r),f=!0);break;case"minSize":v=t._minSize(n,a,d,r);break;case"maxSize":v=t._maxSize(n,a,d,r);break;case"min":v=t._min(n,a,d,r);break;case"max":v=t._max(n,a,d,r);break;case"past":v=t._past(n,a,d,r);break;case"future":v=t._future(n,a,d,r);break;case"dateRange":var m="["+r.validateAttribute+"*="+a[d+1]+"]",g=p.find(m).eq(0),y=p.find(m).eq(1);if(g[0].value||y[0].value)v=t._dateRange(g,y,a,d,r);v&&(h=!0),r.showArrow=!1;break;case"dateTimeRange":var m="["+r.validateAttribute+"*="+a[d+1]+"]",g=p.find(m).eq(0),y=p.find(m).eq(1);if(g[0].value||y[0].value)v=t._dateTimeRange(g,y,a,d,r);v&&(h=!0),r.showArrow=!1;break;case"maxCheckbox":v=t._maxCheckbox(p,n,a,d,r),n=e(p.find("input[name='"+l+"']"));break;case"minCheckbox":v=t._minCheckbox(p,n,a,d,r),n=e(p.find("input[name='"+l+"']"));break;case"equals":v=t._equals(n,a,d,r);break;case"funcCall":v=t._funcCall(n,a,d,r);break;case"creditCard":v=t._creditCard(n,a,d,r);break;default:}v!==undefined&&(c+=v+"<br/>",r.isError=!0)}!h&&n.val()==""&&(r.isError=!1);var b=n.prop("type");(b=="radio"||b=="checkbox")&&p.find("input[name='"+l+"']").size()>1&&(n=e(p.find("input[name='"+l+"'][type!=hidden]:first")),r.showArrow=!1),b=="text"&&p.find("input[name='"+l+"']").size()>1&&(n=e(p.find("input[name='"+l+"'][type!=hidden]:first")),r.showArrow=!1),r.isError?t._showPrompt(n,c,"",!1,r):f||t._closePrompt(n),f||n.trigger("jqv.field.result",[n,r.isError,c]);var w=e.inArray(n[0],r.InvalidFields);return w==-1?r.isError&&r.InvalidFields.push(n[0]):r.isError||r.InvalidFields.splice(w,1),r.isError},_required:function(t,n,r,i){switch(t.prop("type")){case"text":case"password":case"textarea":case"file":default:if(!e.trim(t.val())||t.val()==t.attr("data-validation-placeholder"))return i.allrules[n[r]].alertText;break;case"radio":case"checkbox":var s=t.closest("form"),o=t.attr("name");if(s.find("input[name='"+o+"']:checked").size()==0)return s.find("input[name='"+o+"']").size()==1?i.allrules[n[r]].alertTextCheckboxe:i.allrules[n[r]].alertTextCheckboxMultiple;break;case"select-one":if(!t.val())return i.allrules[n[r]].alertText;break;case"select-multiple":if(!t.find("option:selected").val())return i.allrules[n[r]].alertText}},_groupRequired:function(n,r,i,s){var o="["+s.validateAttribute+"*="+r[i+1]+"]",u=!1;n.closest("form").find(o).each(function(){if(!t._required(e(this),r,i,s))return u=!0,!1});if(!u)return s.allrules[r[i]].alertText},_customRegex:function(e,t,n,r){var i=t[n+1],s=r.allrules[i];if(!s){alert("jqv:custom rule not found "+i);return}var o=s.regex;if(!o){alert("jqv:custom regex not found "+i);return}var u=new RegExp(o);if(!u.test(e.val()))return r.allrules[i].alertText},_funcCall:function(e,t,n,r){var i=t[n+1],s;if(i.indexOf(".")>-1){var o=i.split("."),u=window;while(o.length)u=u[o.shift()];s=u}else s=window[i]||r.customFunctions[i];if(typeof s=="function")return s(e,t,n,r)},_equals:function(t,n,r,i){var s=n[r+1];if(t.val()!=e("#"+s).val())return i.allrules.equals.alertText},_maxSize:function(e,t,n,r){var i=t[n+1],s=e.val().length;if(s>i){var o=r.allrules.maxSize;return o.alertText+i+o.alertText2}},_minSize:function(e,t,n,r){var i=t[n+1],s=e.val().length;if(s<i){var o=r.allrules.minSize;return o.alertText+i+o.alertText2}},_min:function(e,t,n,r){var i=parseFloat(t[n+1]),s=parseFloat(e.val());if(s<i){var o=r.allrules.min;return o.alertText2?o.alertText+i+o.alertText2:o.alertText+i}},_max:function(e,t,n,r){var i=parseFloat(t[n+1]),s=parseFloat(e.val());if(s>i){var o=r.allrules.max;return o.alertText2?o.alertText+i+o.alertText2:o.alertText+i}},_past:function(e,n,r,i){var s=n[r+1],o=s.toLowerCase()=="now"?new Date:t._parseDate(s),u=t._parseDate(e.val());if(u>o){var a=i.allrules.past;return a.alertText2?a.alertText+t._dateToString(o)+a.alertText2:a.alertText+t._dateToString(o)}},_future:function(e,n,r,i){var s=n[r+1],o=s.toLowerCase()=="now"?new Date:t._parseDate(s),u=t._parseDate(e.val());if(u<o){var a=i.allrules.future;return a.alertText2?a.alertText+t._dateToString(o)+a.alertText2:a.alertText+t._dateToString(o)}},_isDate:function(e){var t=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/);return t.test(e)},_isDateTime:function(e){var t=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/);return t.test(e)},_dateCompare:function(e,t){return new Date(e.toString())<new Date(t.toString())},_dateRange:function(e,n,r,i,s){if(!e[0].value&&n[0].value||e[0].value&&!n[0].value)return s.allrules[r[i]].alertText+s.allrules[r[i]].alertText2;if(!t._isDate(e[0].value)||!t._isDate(n[0].value))return s.allrules[r[i]].alertText+s.allrules[r[i]].alertText2;if(!t._dateCompare(e[0].value,n[0].value))return s.allrules[r[i]].alertText+s.allrules[r[i]].alertText2},_dateTimeRange:function(e,n,r,i,s){if(!e[0].value&&n[0].value||e[0].value&&!n[0].value)return s.allrules[r[i]].alertText+s.allrules[r[i]].alertText2;if(!t._isDateTime(e[0].value)||!t._isDateTime(n[0].value))return s.allrules[r[i]].alertText+s.allrules[r[i]].alertText2;if(!t._dateCompare(e[0].value,n[0].value))return s.allrules[r[i]].alertText+s.allrules[r[i]].alertText2},_maxCheckbox:function(e,t,n,r,i){var s=n[r+1],o=t.attr("name"),u=e.find("input[name='"+o+"']:checked").size();if(u>s)return i.showArrow=!1,i.allrules.maxCheckbox.alertText2?i.allrules.maxCheckbox.alertText+" "+s+" "+i.allrules.maxCheckbox.alertText2:i.allrules.maxCheckbox.alertText},_minCheckbox:function(e,t,n,r,i){var s=n[r+1],o=t.attr("name"),u=e.find("input[name='"+o+"']:checked").size();if(u<s)return i.showArrow=!1,i.allrules.minCheckbox.alertText+" "+s+" "+i.allrules.minCheckbox.alertText2},_creditCard:function(e,t,n,r){var i=!1,s=e.val().replace(/ +/g,"").replace(/-+/g,""),o=s.length;if(o>=14&&o<=16&&parseInt(s)>0){var u=0,n=o-1,a=1,f,l=new String;do f=parseInt(s.charAt(n)),l+=a++%2==0?f*2:f;while(--n>=0);for(n=0;n<l.length;n++)u+=parseInt(l.charAt(n));i=u%10==0}if(!i)return r.allrules.creditCard.alertText},_ajax:function(n,r,i,s){var o=r[i+1],u=s.allrules[o],a=u.extraData,f=u.extraDataDynamic;a||(a="");if(f){var l=[],c=String(f).split(",");for(var i=0;i<c.length;i++){var h=c[i];if(e(h).length){var p=n.closest("form").find(h).val(),d=h.replace("#","")+"="+escape(p);l.push(d)}}f=l.join("&")}else f="";s.isError||e.ajax({type:"GET",url:u.url,cache:!1,dataType:"json",data:"fieldId="+n.attr("id")+"&fieldValue="+n.val()+"&extraData="+a+"&"+f,field:n,rule:u,methods:t,options:s,beforeSend:function(){var e=u.alertTextLoad;e&&t._showPrompt(n,e,"load",!0,s)},error:function(e,n){t._ajaxError(e,n)},success:function(n){var r=n[0],i=e(e("input[id='"+r+"']")[0]);if(i.length==1){var o=n[1],a=n[2];if(!o){s.ajaxValidCache[r]=!1,s.isError=!0;if(a){if(s.allrules[a]){var f=s.allrules[a].alertText;f&&(a=f)}}else a=u.alertText;t._showPrompt(i,a,"",!0,s)}else{s.ajaxValidCache[r]!==undefined&&(s.ajaxValidCache[r]=!0);if(a){if(s.allrules[a]){var f=s.allrules[a].alertTextOk;f&&(a=f)}}else a=u.alertTextOk;a?t._showPrompt(i,a,"pass",!0,s):t._closePrompt(i)}}i.trigger("jqv.field.result",[i,s.isError,a])}})},_ajaxError:function(e,t){e.status==0&&t==null?alert("The page is not served from a server! ajax call failed"):typeof console!="undefined"&&console.log("Ajax error: "+e.status+" "+t)},_dateToString:function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},_parseDate:function(e){var t=e.split("-");return t==e&&(t=e.split("/")),new Date(t[0],t[1]-1,t[2])},_showPrompt:function(e,n,r,i,s,o){var u=t._getPrompt(e);o&&(u=!1),u?t._updatePrompt(e,u,n,r,i,s):t._buildPrompt(e,n,r,i,s)},_buildPrompt:function(n,r,i,s,o){var u=e("<div>");u.addClass(t._getClassName(n.attr("id"))+"formError"),n.is(":input")&&u.addClass("parentForm"+t._getClassName(n.parents("form").attr("id"))),u.addClass("formError");switch(i){case"pass":u.addClass("greenPopup");break;case"load":u.addClass("blackPopup");break;default:}s&&u.addClass("ajaxed");var a=e("<div>").addClass("formErrorContent").html(r).appendTo(u);if(o.showArrow){var f=e("<div>").addClass("formErrorArrow"),l=n.data("promptPosition")||o.promptPosition;if(typeof l=="string"){var c=l.indexOf(":");c!=-1&&(l=l.substring(0,c))}switch(l){case"bottomLeft":case"bottomRight":u.find(".formErrorContent").before(f),f.addClass("formErrorArrowBottom").html('<div class="line1"><!-- --></div><div class="line2"><!-- --></div><div class="line3"><!-- --></div><div class="line4"><!-- --></div><div class="line5"><!-- --></div><div class="line6"><!-- --></div><div class="line7"><!-- --></div><div class="line8"><!-- --></div><div class="line9"><!-- --></div><div class="line10"><!-- --></div>');break;case"topLeft":case"topRight":f.html('<div class="line10"><!-- --></div><div class="line9"><!-- --></div><div class="line8"><!-- --></div><div class="line7"><!-- --></div><div class="line6"><!-- --></div><div class="line5"><!-- --></div><div class="line4"><!-- --></div><div class="line3"><!-- --></div><div class="line2"><!-- --></div><div class="line1"><!-- --></div>'),u.append(f)}}n.closest(".ui-dialog").length&&u.addClass("formErrorInsideDialog"),u.css({opacity:0});if(o.relative){var h=e("<div>").css({position:"relative",display:"inline",overflow:"auto"}).addClass("formErrorOuter").append(u.css("position","absolute"));n.before(h),o.relativePadding&&h.css("padding-bottom",u.height()+"px")}else o.isOverflown?n.before(u):e("body").append(u);var c=t._calculatePosition(n,u,o);return u.css({top:c.callerTopPosition,left:c.callerleftPosition,marginTop:c.marginTopSize,opacity:0}).data("callerField",n),o.autoHidePrompt&&setTimeout(function(){u.animate({opacity:0},function(){u.closest(".formErrorOuter").remove(),u.remove()})},o.autoHideDelay),u.animate({opacity:.87})},_updatePrompt:function(e,n,r,i,s,o,u){if(n){typeof i!="undefined"&&(i=="pass"?n.addClass("greenPopup"):n.removeClass("greenPopup"),i=="load"?n.addClass("blackPopup"):n.removeClass("blackPopup")),s?n.addClass("ajaxed"):n.removeClass("ajaxed"),n.find(".formErrorContent").html(r);var a=t._calculatePosition(e,n,o),f={top:a.callerTopPosition,left:a.callerleftPosition,marginTop:a.marginTopSize};u?n.css(f):n.animate(f)}},_closePrompt:function(e){var n=t._getPrompt(e);n&&n.fadeTo("fast",0,function(){n.parent(".formErrorOuter").remove(),n.remove()})},closePrompt:function(e){return t._closePrompt(e)},_getPrompt:function(n){var r=e(n).closest("form").attr("id"),i=t._getClassName(n.attr("id"))+"formError",s=e("."+t._escapeExpression(i)+".parentForm"+r)[0];if(s)return e(s)},_escapeExpression:function(e){return e.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(t){var n=e(document),r=e("body"),i=t&&t.hasClass("rtl")||t&&(t.attr("dir")||"").toLowerCase()==="rtl"||n.hasClass("rtl")||(n.attr("dir")||"").toLowerCase()==="rtl"||r.hasClass("rtl")||(r.attr("dir")||"").toLowerCase()==="rtl";return Boolean(i)},_calculatePosition:function(e,n,r){var i,s,o,u=e.width(),a=n.height(),f=r.isOverflown||r.relative;if(f)i=s=0,o=-a;else{var l=e.offset();i=l.top,s=l.left,o=0}var c=e.data("promptPosition")||r.promptPosition,h="",p="",d=0,v=0;typeof c=="string"&&c.indexOf(":")!=-1&&(h=c.substring(c.indexOf(":")+1),c=c.substring(0,c.indexOf(":")),h.indexOf(",")!=-1&&(p=h.substring(h.indexOf(",")+1),h=h.substring(0,h.indexOf(",")),v=parseInt(p),isNaN(v)&&(v=0)),d=parseInt(h),isNaN(h)&&(h=0));if(!t.isRTL(e))switch(c){default:case"topRight":f?s+=u-30:(s+=u-30,i+=-a-2);break;case"topLeft":f||(i+=-a-10);break;case"centerRight":f?(i=0,o=0,s=e.outerWidth(1)+5):s+=e.outerWidth()+5;break;case"centerLeft":s-=n.width()+2,f&&(i=0,o=0);break;case"bottomLeft":i=i+e.height()+5,f&&(o=0);break;case"bottomRight":s+=u-30,i+=e.height()+5,f&&(o=0)}else switch(c){default:case"topLeft":f?s=-(n.width()+u-30):(s-=n.width()-30,i+=-a-2);break;case"topRight":f?s=-n.width():(s+=u-n.width(),i+=-a-2);break;case"centerRight":f?(i=0,o=0,s=5):s+=e.outerWidth()+5;break;case"centerLeft":f?(s=-(n.width()+e.outerWidth()+2),i=0,o=0):s-=n.width()+2;break;case"bottomLeft":f?(i=e.height()+5,s=-(n.width()+u-30),o=0):(s+=-n.width()+30,i=i+e.height()+15);break;case"bottomRight":f?(i=e.height()+5,s=-n.width(),o=0):(s+=u-n.width(),i+=e.height()+15)}return s+=d,i+=v,{callerTopPosition:i+"px",callerleftPosition:s+"px",marginTopSize:o+"px"}},_saveOptions:function(t,n){if(e.validationEngineLanguage)var r=e.validationEngineLanguage.allRules;else e.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page");e.validationEngine.defaults.allrules=r;var i=e.extend(!0,{},e.validationEngine.defaults,n);return i.isOverflown&&(i.relative=!0),i.relative&&(i.isOverflown=!0),t.data("jqv",i),i},_getClassName:function(e){if(e)return e.replace(/:/g,"_").replace(/\./g,"_")}};e.fn.validationEngine=function(n){var r=e(this);if(!r[0])return!1;if(typeof n=="string"&&n.charAt(0)!="_"&&t[n])return n!="showPrompt"&&n!="hide"&&n!="hideAll"&&t.init.apply(r),t[n].apply(r,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return t.init.apply(r,arguments),t.attach.apply(r);e.error("Method "+n+" does not exist in jQuery.validationEngine")},e.validationEngine={fieldIdCounter:0,defaults:{validationEventTrigger:"blur",scroll:!0,focusFirstField:!0,promptPosition:"topRight",bindMethod:"bind",inlineAjax:!1,ajaxFormValidation:!1,ajaxFormValidationURL:!1,onAjaxFormComplete:e.noop,onBeforeAjaxFormValidation:e.noop,onValidationComplete:!1,relative:!1,relativePadding:!1,isOverflown:!1,overflownDIV:"",doNotShowAllErrosOnSubmit:!1,binded:!0,showArrow:!0,isError:!1,ajaxValidCache:{},autoPositionUpdate:!1,InvalidFields:[],onSuccess:!1,onFailure:!1,autoHidePrompt:!1,autoHideDelay:1e4,fadeDuration:.3}},e(function(){e.validationEngine.defaults.promptPosition=t.isRTL()?"topLeft":"topRight"})}(jQuery),function(e){e.validationEngineLanguage==undefined||e.validationEngineLanguage.allRules==undefined?alert("Please include other-validations.js AFTER the translation file"):(e.validationEngineLanguage.allRules.postcodeUK={regex:/^([A-PR-UWYZ0-9][A-HK-Y0-9][AEHMNPRTVXY0-9]?[ABEHMNPRVWXY0-9]? {1,2}[0-9][ABD-HJLN-UW-Z]{2}|GIR 0AA)$/,alertText:"* Invalid postcode"},e.validationEngineLanguage.allRules.postcodeUS={regex:/^\d{5}(-\d{4})?$/,alertText:"* Invalid zipcode"},e.validationEngineLanguage.allRules.onlyLetNumSpec={regex:/^[0-9a-zA-Z_-]+$/,alertText:"* Only Letters, Numbers, hyphen(-) and underscore(_) allowed"})}(jQuery),function(e){var t=(e.browser.msie?"paste":"input")+".mask",n=window.orientation!=undefined;e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"}},e.fn.extend({caret:function(e,t){if(this.length==0)return;if(typeof e=="number")return t=typeof t=="number"?t:e,this.each(function(){if(this.setSelectionRange)this.focus(),this.setSelectionRange(e,t);else if(this.createTextRange){var n=this.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select()}});if(this[0].setSelectionRange)e=this[0].selectionStart,t=this[0].selectionEnd;else if(document.selection&&document.selection.createRange){var n=document.selection.createRange();e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length}return{begin:e,end:t}},unmask:function(){return this.trigger("unmask")},mask:function(r,i){if(!r&&this.length>0){var s=e(this[0]),o=s.data("tests");return e.map(s.data("buffer"),function(e,t){return o[t]?e:null}).join("")}i=e.extend({placeholder:"_",completed:null},i);var u=e.mask.definitions,o=[],f=r.length,l=null,h=r.length;return e.each(r.split(""),function(e,t){t=="?"?(h--,f=e):u[t]?(o.push(new RegExp(u[t])),l==null&&(l=o.length-1)):o.push(null)}),this.each(function(){function y(e){while(++e<=h&&!o[e]);return e}function w(e){while(!o[e]&&--e>=0);for(var t=e;t<h;t++)if(o[t]){p[t]=i.placeholder;var n=y(t);if(!(n<h&&o[t].test(p[n])))break;p[t]=p[n]}N(),s.caret(Math.max(l,e))}function E(e){for(var t=e,n=i.placeholder;t<h;t++)if(o[t]){var r=y(t),s=p[t];p[t]=n;if(!(r<h&&o[r].test(s)))break;n=s}}function S(t){var r=e(this).caret(),i=t.keyCode;v=i<16||i>16&&i<32||i>32&&i<41,r.begin-r.end!=0&&(!v||i==8||i==46)&&T(r.begin,r.end);if(i==8||i==46||n&&i==127)return w(r.begin+(i==46?0:-1)),!1;if(i==27)return s.val(m),s.caret(0,C()),!1}function x(t){if(v)return v=!1,t.keyCode==8?!1:null;t=t||window.event;var n=t.charCode||t.keyCode||t.which,r=e(this).caret();if(t.ctrlKey||t.altKey||t.metaKey)return!0;if(n>=32&&n<=125||n>186){var u=y(r.begin-1);if(u<h){var f=String.fromCharCode(n);if(o[u].test(f)){E(u),p[u]=f,N();var l=y(u);e(this).caret(l),i.completed&&l==h&&i.completed.call(s)}}}return!1}function T(e,t){for(var n=e;n<t&&n<h;n++)o[n]&&(p[n]=i.placeholder)}function N(){return s.val(p.join("")).val()}function C(e){var t=s.val(),n=-1;for(var r=0,u=0;r<h;r++)if(o[r]){p[r]=i.placeholder;while(u++<t.length){var a=t.charAt(u-1);if(o[r].test(a)){p[r]=a,n=r;break}}if(u>t.length)break}else p[r]==t[u]&&r!=f&&(u++,n=r);if(!e&&n+1<f)s.val(""),T(0,h);else if(e||n+1>=f)N(),e||s.val(s.val().substring(0,n+1));return f?r:l}var s=e(this),p=e.map(r.split(""),function(e,t){if(e!="?")return u[e]?i.placeholder:e}),v=!1,m=s.val();s.data("buffer",p).data("tests",o),s.attr("readonly")||s.one("unmask",function(){s.unbind(".mask").removeData("buffer").removeData("tests")}).bind("focus.mask",function(){m=s.val();var e=C();N(),setTimeout(function(){e==r.length?s.caret(0,e):s.caret(e)},0)}).bind("blur.mask",function(){C(),s.val()!=m&&s.change()}).bind("keydown.mask",S).bind("keypress.mask",x).bind(t,function(){setTimeout(function(){s.caret(C(!0))},0)}),C()})}})}(jQuery),function(){$(document).ready(function(){var e;$("form").validationEngine();if($(".alert"))return $(".alert").slideDown("fast"),e=function(){return $(".alert").slideUp()},setTimeout(e,5e3)})}.call(this),function(){}.call(this);